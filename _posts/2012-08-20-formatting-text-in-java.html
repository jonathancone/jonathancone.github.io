---
layout: post
title: Formatting Text in Java
date: '2012-08-20T11:13:00.000-05:00'
author: Jonathan Cone
tags: 
modified_time: '2013-05-25T08:46:52.698-05:00'
thumbnail: http://3.bp.blogspot.com/-3wauLJ6iyQo/UDGQ7ZvSFtI/AAAAAAAAAJw/4fJ2kuCp1Iw/s72-c/pgAdmin.png
blogger_id: tag:blogger.com,1999:blog-850212609563989685.post-2914340352758033014
blogger_orig_url: http://www.machineversus.me/2012/08/formatting-text-in-java.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-3wauLJ6iyQo/UDGQ7ZvSFtI/AAAAAAAAAJw/4fJ2kuCp1Iw/s1600/pgAdmin.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="320" src="http://3.bp.blogspot.com/-3wauLJ6iyQo/UDGQ7ZvSFtI/AAAAAAAAAJw/4fJ2kuCp1Iw/s320/pgAdmin.png" width="313"></a></div>Working with structured text fragments like SQL and XML in Java can be a hassle since Java doesn't support multi-line strings.&nbsp; In the case of SQL, a developer usually writes the query in a database tool like Toad, SSMS or pgAdmin in a readable format and then pastes it into their Java code.&nbsp; After that happens, you immediately have to choose one of the following options:<br><h4>Option 1: Join the lines so the statement becomes one long String literal</h4><ul><li>Pro: the text is easy to copy back into the SQL tool and reformat in the tool</li><li>Con: the Java code isn't readable for anything but the simplest query</li><li>Con: file diffs can be difficult to compare and code review during maintenance, this is expecially true when you're trying to track down bind variables</li></ul><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-TKhKNqB10W0/UDGMpUFm36I/AAAAAAAAAJY/whUfB6pLgKM/s1600/long.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="25" src="http://4.bp.blogspot.com/-TKhKNqB10W0/UDGMpUFm36I/AAAAAAAAAJY/whUfB6pLgKM/s640/long.png" width="640"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Option 1: String line string containing the query</td></tr></tbody></table><h4>Option 2: Copy the query into the Java file and try to preserve formatting by concatenating lines together</h4><ul> </ul><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: right; margin-left: 1em; text-align: right;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-GyUQOh8GEVw/UDGMorguDcI/AAAAAAAAAJI/GF82Hdt5b2w/s1600/before.png" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" height="236" src="http://4.bp.blogspot.com/-GyUQOh8GEVw/UDGMorguDcI/AAAAAAAAAJI/GF82Hdt5b2w/s320/before.png" width="320"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Option 2: before code formatter</td></tr></tbody></table><ul><li>Pro: the SQL is somewhat readable in the Java file and file diffs are easy to compare during maintenance and code review</li><li>Con: the query is difficult to copy out into the SQL tool without doing a search and replace for the Java String parts (+ and ")</li><div style="text-align: right;"></div><li>Con: invoking an IDE formatter on the Java can be a frustrating because the formatter may mangle the concatenations&nbsp;</li></ul><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: left; margin-right: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-rPTdwht5JGM/UDGMoc2gCoI/AAAAAAAAAJA/vFNrN5-JXh8/s1600/after.png" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" height="117" src="http://4.bp.blogspot.com/-rPTdwht5JGM/UDGMoc2gCoI/AAAAAAAAAJA/vFNrN5-JXh8/s320/after.png" width="320"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Option 2: after code formatter, yuck!</td></tr></tbody></table><br><br><br><br><br><br><br><br><br><br><br><br>Since both of these approaches are cumbersome, I'd like to suggest another alternative you may not have considered.&nbsp; This approach, while not exactly a silver bullet solution, builds on Option 2 to make maintaining structured text a little less painful in Java:<br><h4>Option 3: Leave the query formatted, but pad it out on both sides with whitespace.<b>&nbsp;&nbsp;</b></h4><div style="text-align: left;"><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-Og5h3AHF0EU/UDGMpCpygAI/AAAAAAAAAJQ/ZeyHi4vp3NI/s1600/formatted.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="209" src="http://2.bp.blogspot.com/-Og5h3AHF0EU/UDGMpCpygAI/AAAAAAAAAJQ/ZeyHi4vp3NI/s320/formatted.png" width="320"></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Option 3: Block select mode</td></tr></tbody></table></div><br><ul><li><b>Pro: you can copy and paste the text to and from your SQL tool using the&nbsp;</b><i>Block Selection</i><b>&nbsp;feature of your IDE or text editor</b></li><li>Pro: the text is readable, easy to code review and maintain</li><li>Pro: the IDE code formatter won't mangle the lines like option 2 because they are wide enough to ensure that the lines aren't joined</li><li>Con: Its still a hack and until Java gets multi-line string support, this may be the best we can do outside of externalizing the SQL in another file.</li></ul><div><br></div>